"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5182],{65228:(e,l,a)=>{a.r(l),a.d(l,{default:()=>o});const t={props:["model","rule","label","meta"],data:function(){return{gridModal:!1,labels:null,selectedRows:[]}},methods:{showSearchGrid:function(){this.gridModal=!0},addmethod:function(){console.log(this.selectedRows)},getValue:function(e){var l=this;this.labels=null,this.meta.gridSearch.labels.forEach((function(a,t){null==l.labels&&(l.labels=""),l.labels+=e[a],l.meta.gridSearch.labels.length-1>t&&(l.labels+=", ")})),this.gridModal=!1,this.model.form[this.model.component]=e[this.meta.gridSearch.key]},getMultipleValue:function(e){var l=this;this.selectedRows=e,this.labels=[],this.model.form[this.model.component]=[],e.forEach((function(e){l.meta.gridSearch.labels.forEach((function(a,t){l.labels.push(e[a])})),l.model.form[l.model.component].push(e[l.meta.gridSearch.key])})),this.labels=this.labels.join(", ")}}};const o=(0,a(51900).Z)(t,(function(){var e=this,l=e._self._c;return l("div",[l("FormItem",{staticClass:"grid-search-input",attrs:{prop:e.rule,label:e.label}},[e.meta.gridSearch.multiple?l("Select",{attrs:{placeholder:e.meta&&null!==e.meta.placeHolder?e.meta.placeHolder:e.label,multiple:""},on:{"on-open-change":e.showSearchGrid},model:{value:e.model.form[e.model.component],callback:function(l){e.$set(e.model.form,e.model.component,l)},expression:"model.form[model.component]"}},e._l(e.selectedRows,(function(a){return l("Option",{key:a.index,attrs:{value:a[e.meta.gridSearch.key]}},[e._v(e._s(a[e.meta.gridSearch.labels])+"\n            ")])})),1):l("Input",{attrs:{type:"text",value:e.labels,icon:"ios-search-strong",placeholder:e.meta&&null!==e.meta.placeHolder?e.meta.placeHolder:e.label},on:{"on-focus":e.showSearchGrid}})],1),e._v(" "),l("Modal",{attrs:{"class-name":"grid-search-modal",width:1e3},model:{value:e.gridModal,callback:function(l){e.gridModal=l},expression:"gridModal"}},[l("h3",[e._v(e._s(e.meta.label))]),e._v(" "),e.meta.gridSearch.multiple?l("datagrid",{attrs:{schemaID:e.meta.gridSearch.grid,paginate:50,highlights:e.model.form[e.model.component],hasSelection:!0,onSelected:e.getMultipleValue}}):l("datagrid",{attrs:{schemaID:e.meta.gridSearch.grid,paginate:50,dblClick:e.getValue}})],1)],1)}),[],!1,null,null,null).exports}}]);